[gd_scene load_steps=26 format=3 uid="uid://dtrahaov2gclc"]

[ext_resource type="Script" path="res://scenes/level.gd" id="1_n3cbr"]
[ext_resource type="PackedScene" uid="uid://dieb3dfblspao" path="res://scenes/bot.tscn" id="2_3dgl4"]
[ext_resource type="PackedScene" uid="uid://mclt0vsajrjb" path="res://scenes/cursor.tscn" id="3_5i8s6"]
[ext_resource type="PackedScene" uid="uid://s2rhqk2m50ey" path="res://scenes/virus.tscn" id="3_wdrr7"]
[ext_resource type="AudioStream" uid="uid://cu6bjqlaj4ng2" path="res://music/Spacial Harvest.mp3" id="4_1gsof"]
[ext_resource type="PackedScene" uid="uid://bsgdero5ej5yb" path="res://scenes/cell.tscn" id="4_6bb0c"]
[ext_resource type="Texture2D" uid="uid://bhj3v5cib030u" path="res://images/lavafull.jpg" id="4_kcf7m"]
[ext_resource type="Texture2D" uid="uid://3g4nc41agqbt" path="res://images/human-cardio.png" id="5_bmjak"]
[ext_resource type="Texture2D" uid="uid://xdhst2qnjuf1" path="res://images/human-outline.png" id="5_vocdv"]
[ext_resource type="PackedScene" uid="uid://b53xxb1xafaba" path="res://scenes/touch_manager.tscn" id="6_f2gq3"]
[ext_resource type="Texture2D" uid="uid://b30i85d0ykdc4" path="res://images/heart.png" id="7_uyj3q"]
[ext_resource type="AudioStream" uid="uid://bo1ecsunbidsf" path="res://music/Mechanolith.mp3" id="11_844nl"]
[ext_resource type="AudioStream" uid="uid://dhoob1tc0yil2" path="res://sounds/beep.wav" id="11_nqkvl"]
[ext_resource type="PackedScene" uid="uid://1cbsv65rbdyc" path="res://scenes/hud.tscn" id="11_w7mwp"]
[ext_resource type="AudioStream" uid="uid://bylwcvcxnx3ha" path="res://sounds/flatline.wav" id="12_02hj7"]
[ext_resource type="AudioStream" uid="uid://dmgv06mfv71ee" path="res://music/One of Them.mp3" id="12_85hob"]
[ext_resource type="PackedScene" uid="uid://cgaefbtoudik5" path="res://scenes/menu.tscn" id="17_43jrk"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5i3e8"]
size = Vector2(3213, 4842)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dhyfm"]
size = Vector2(2806, 5475)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6q7ev"]
size = Vector2(5612, 11043)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_hcnq1"]
size = Vector2(1493, 11540)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6gy4a"]
size = Vector2(1563.5, 11585)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ts1bg"]
size = Vector2(777, 2431.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6dgm3"]
size = Vector2(1132, 1765)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_g8doi"]
size = Vector2(1695, 8544)

[node name="LvlBody" type="Node"]
script = ExtResource("1_n3cbr")
initial_viruses = 11
music_start_time = 2.0
normal_heartrate = 3.0
max_heartrate = 0.3
bot_scene = ExtResource("2_3dgl4")
virus_scene = ExtResource("3_wdrr7")
cell_scene = ExtResource("4_6bb0c")

[node name="Camera" type="Camera2D" parent="."]
position = Vector2(7331, 5634)
position_smoothing_enabled = true
position_smoothing_speed = 2.0

[node name="Cursor" parent="." instance=ExtResource("3_5i8s6")]
z_index = 100

[node name="TouchManager" parent="." instance=ExtResource("6_f2gq3")]

[node name="CellSpawnTimer" type="Timer" parent="."]
autostart = true

[node name="SpawnAreas" type="Area2D" parent="."]

[node name="RectShape" type="CollisionShape2D" parent="SpawnAreas"]
position = Vector2(-2755.5, -5711)
shape = SubResource("RectangleShape2D_5i3e8")

[node name="RectShape2" type="CollisionShape2D" parent="SpawnAreas"]
position = Vector2(3467, -5439.5)
shape = SubResource("RectangleShape2D_dhyfm")

[node name="RectShape3" type="CollisionShape2D" parent="SpawnAreas"]
position = Vector2(254, 2095.5)
shape = SubResource("RectangleShape2D_6q7ev")

[node name="RectShape4" type="CollisionShape2D" parent="SpawnAreas"]
position = Vector2(-900.5, 13884)
shape = SubResource("RectangleShape2D_hcnq1")

[node name="RectShape5" type="CollisionShape2D" parent="SpawnAreas"]
position = Vector2(1734.25, 13952.5)
shape = SubResource("RectangleShape2D_6gy4a")

[node name="RectShapeLeftArm" type="CollisionShape2D" parent="SpawnAreas"]
position = Vector2(7363.5, 5563.75)
shape = SubResource("RectangleShape2D_ts1bg")

[node name="RectShape7" type="CollisionShape2D" parent="SpawnAreas"]
position = Vector2(-5788, 1665.5)
shape = SubResource("RectangleShape2D_6dgm3")

[node name="RectShape8" type="CollisionShape2D" parent="SpawnAreas"]
position = Vector2(104.5, -11156)
shape = SubResource("RectangleShape2D_g8doi")

[node name="Background" type="TextureRect" parent="."]
texture_repeat = 2
offset_left = -10440.0
offset_top = -16980.0
offset_right = -3273.0
offset_bottom = -2485.0
scale = Vector2(3, 3)
texture = ExtResource("4_kcf7m")
stretch_mode = 1

[node name="Cardio" type="TextureRect" parent="."]
modulate = Color(1, 1, 1, 0.788235)
z_index = 1
offset_left = -10933.0
offset_top = -17154.0
offset_right = 11371.0
offset_bottom = 26953.0
texture = ExtResource("5_bmjak")

[node name="Walls" type="StaticBody2D" parent="."]
z_index = 2
collision_layer = 2
collision_mask = 0

[node name="Outline" type="TextureRect" parent="Walls"]
offset_left = -10933.0
offset_top = -17154.0
offset_right = 11371.0
offset_bottom = 26953.0
texture = ExtResource("5_vocdv")

[node name="CollisionPolygonLeft" type="CollisionPolygon2D" parent="Walls"]
position = Vector2(-22829, 5892)
scale = Vector2(3.6254, 5.31788)
polygon = PackedVector2Array(6321.79, -4170.08, 6034.65, -4101.07, 5852.05, -3992.76, 5816.74, -3868.27, 5840.46, -3591.1, 5869.7, -3402.3, 5964.03, -3281.95, 5969.83, -2976.56, 5693.17, -2884.23, 5457.33, -2836.09, 5209.91, -2767.83, 4986.21, -2655.38, 4850.78, -2526.76, 4732.72, -2325.93, 4691.62, -1960.56, 4662.11, -1683.38, 4662.11, -1462.61, 4667.9, -1233.58, 4532.47, -1000.78, 4279.25, -406.365, 4190.99, -153.257, 3778.62, 155.889, 3784.41, 256.305, 3943.57, 316.668, 3919.84, 541.57, 4014.18, 641.986, 4120.1, 641.986, 4285.05, 589.709, 4461.85, 151.94, 4579.63, -173.377, 4944.83, -695.39, 5033.38, -956.585, 5145.09, -1450.58, 5233.63, -1647.27, 5339.55, -1587.1, 5445.75, -1149.33, 5369.06, -422.349, 5357.2, 127.871, 5416.23, 625.814, 5557.46, 1067.72, 5693.17, 1465.25, 5681.31, 1943.07, 5698.96, 2352.82, 5922.93, 2911.12, 5952.17, 3172.13, 5987.75, 3413.02, 5775.64, 3666.13, 5840.46, 3774.44, 5969.83, 3814.68, 6128.98, 3778.58, 6282.07, 3585.83, 6317.65, 3348.89, 6264.41, 3099.73, 6293.93, 2517.55, 6305.79, 2123.97, 6240.97, 1702.18, 6282.07, 1449.26, 6323.44, 1083.7, 6334.75, 410.314, 6425.5, 409.938, 6567.83, 4756.03, 727.092, 4534.51, 864.457, -4746.82, 6404.26, -5175.37)

[node name="CollisionPolygonRight" type="CollisionPolygon2D" parent="Walls"]
position = Vector2(-22829, 5892)
scale = Vector2(3.6254, 5.31788)
polygon = PackedVector2Array(6335.85, 408.621, 6418.05, 410.314, 6451.43, 868.956, 6456.94, 1289.8, 6507.15, 1611.92, 6473.77, 1877.25, 6507.15, 2279.11, 6568.1, 2703.71, 6584.93, 2999.32, 6584.93, 3340.62, 6607, 3503.47, 6785.18, 3689.25, 6990.68, 3787.79, 7168.87, 3727.24, 7201.97, 3605.95, 6985.16, 3476.95, 6896.34, 3295.11, 6912.89, 2916.01, 7051.91, 2563.43, 7135.49, 2047.81, 7068.74, 1604.4, 7207.76, 1073.74, 7307.61, 679.407, 7357.81, 76.7224, 7352.29, -279.623, 7196.45, -799.003, 7201.97, -1079.57, 7218.79, -1280.4, 7335.47, -1538.21, 7442.49, -1541.22, 7539.58, -1318.57, 7574.89, -945.49, 7707.29, -596.479, 8148.62, -30.8394, 8228.06, 282.068, 8404.59, 534.8, 8563.47, 607.009, 8722.35, 564.887, 8748.83, 414.451, 8669.39, 251.98, 8828.27, 179.771, 8757.66, 35.3525, 8528.17, -181.275, 8298.67, -638.601, 8016.22, -1198.22, 7927.96, -1812, 7919.13, -2407.73, 7796.11, -2582.99, 7619.58, -2715.56, 7265.96, -2828.01, 7018.54, -2880.29, 6794.84, -2956.63, 6682.85, -3137.34, 6753.46, -3354.16, 6818.28, -3530.92, 6788.77, -3723.67, 6794.84, -3932.4, 6694.44, -4085.09, 6290.34, -4170.08, 6269.1, -5143.21, 10889, -5156.38, 11007.6, 4757.72, 6465.22, 4757.72)

[node name="Heart" type="StaticBody2D" parent="."]
z_index = 5
collision_layer = 2
collision_mask = 0

[node name="TextureRect" type="TextureRect" parent="Heart"]
offset_left = -1090.0
offset_top = -6632.0
offset_right = 2112.0
offset_bottom = -3643.0
texture = ExtResource("7_uyj3q")
stretch_mode = 4

[node name="Heart" type="CollisionPolygon2D" parent="Heart"]
polygon = PackedVector2Array(-910, -6133, -568, -6494, 136, -6269, 1032, -5997, 1088, -6475, 1564, -5809, 1963, -4820, 1506, -3697, 523, -3926, -204, -4247, -1005, -5105)

[node name="BeepTimer" type="Timer" parent="."]
one_shot = true

[node name="Music" type="AudioStreamPlayer" parent="."]
process_mode = 3
stream = ExtResource("4_1gsof")
autoplay = true
parameters/looping = false

[node name="MusicMechan" type="AudioStreamPlayer" parent="."]
process_mode = 3
stream = ExtResource("11_844nl")

[node name="MusicOneOf" type="AudioStreamPlayer" parent="."]
process_mode = 3
stream = ExtResource("12_85hob")
parameters/looping = false

[node name="SfxBeep" type="AudioStreamPlayer" parent="."]
stream = ExtResource("11_nqkvl")

[node name="SfxFlatline" type="AudioStreamPlayer" parent="."]
stream = ExtResource("12_02hj7")

[node name="HUD" parent="." instance=ExtResource("11_w7mwp")]

[node name="Menu" parent="." instance=ExtResource("17_43jrk")]
visible = false

[node name="TutorialTimer" type="Timer" parent="."]
wait_time = 5.0
one_shot = true

[node name="SpecialDirectiveTimer" type="Timer" parent="."]
wait_time = 5.0
one_shot = true

[connection signal="body_entered" from="Cursor" to="." method="_on_cursor_body_entered"]
[connection signal="drag" from="TouchManager" to="Cursor" method="_on_touch_drag"]
[connection signal="end_drag" from="TouchManager" to="Cursor" method="_on_touch_end_drag"]
[connection signal="end_pinch" from="TouchManager" to="." method="_on_touch_end_pinch"]
[connection signal="pinch" from="TouchManager" to="." method="_on_touch_pinch"]
[connection signal="start_drag" from="TouchManager" to="Cursor" method="_on_touch_start_drag"]
[connection signal="start_pinch" from="TouchManager" to="." method="_on_touch_start_pinch"]
[connection signal="timeout" from="CellSpawnTimer" to="." method="_on_cell_spawn_timer_timeout"]
[connection signal="timeout" from="BeepTimer" to="." method="_on_beep_timer_timeout"]
[connection signal="finished" from="MusicMechan" to="." method="_on_music_mechan_finished"]
[connection signal="timeout" from="TutorialTimer" to="." method="_on_tutorial_timer_timeout"]
[connection signal="timeout" from="SpecialDirectiveTimer" to="." method="_on_special_directive_timer_timeout"]
